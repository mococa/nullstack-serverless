!function webpackUniversalModuleDefinition(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory();else if("function"==typeof define&&define.amd)define([],factory);else{var a=factory();for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(self,()=>(()=>{"use strict";var __webpack_require__={};__webpack_require__.d=(exports1,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports1,key)&&Object.defineProperty(exports1,key,{enumerable:!0,get:definition[key]})},__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__webpack_require__.r=exports1=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports1,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports1,"__esModule",{value:!0})};var __webpack_exports__={};function fragment(param){let{children}=param;return children}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>client_0});let seed=Object.freeze([]);function normalize(child){return child??!1}function element_element(type,props){for(var _len=arguments.length,children=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)children[_key-2]=arguments[_key];children=seed.concat(...children).map(normalize),"textarea"===type&&(children=[children.join("")]);let attributes={...props,children};return("style"!==type||attributes.html||(attributes.html=children.join("")),"element"===type&&(type=attributes.tag||fragment,delete attributes.tag),"function"==typeof type&&void 0!==type.render)?{type,attributes,children:null}:{type,attributes,children}}function generateKey(scope,node,depth){if(node.attributes.key)return node.attributes.key;let prefix=1===depth.length?"application":`${node.type.name}/${depth}`;return node.attributes.route?prefix+("ssg"===scope.context.environment.mode?scope.context.router.path:scope.context.router.url):prefix}function isUndefined(node){return void 0===node||null!==node&&Object.prototype.hasOwnProperty.call(node,"type")&&void 0===node.type}function isFalse(node){return null===node||!1===node||Object.prototype.hasOwnProperty.call(node,"type")&&null===node.type||!1===node.type}function isClass(node){return"function"==typeof node.type&&node.type.prototype&&"function"==typeof node.type.prototype.render}function isFunction(node){return"function"==typeof node.type}function isText(node){return"text"===node.type}function noop(){}function match(node){return node&&"a"===node.type&&node.attributes.href&&node.attributes.href.startsWith("/")&&!node.attributes.target}function transform(param){let{node}=param;match(node)&&(node.attributes.onclick??=noop)}let anchorable={transform,client:!0};function bindable_match(node){return node?.attributes?.bind!==void 0}function bindable_transform(param){let{node,environment}=param;if(!bindable_match(node))return;let object=node.attributes.bind.object??{},property=node.attributes.bind.property;if("textarea"===node.type)node.children=[object[property]??""];else if("input"===node.type&&"checkbox"===node.attributes.type)node.attributes.checked=object[property];else if("input"===node.type&&"date"===node.attributes.type&&object[property]instanceof Date){let yyyy=object[property].getFullYear(),mm=(object[property].getMonth()+1).toString().padStart(2,"0"),dd=object[property].getDate().toString().padStart(2,"0");node.attributes.value=`${yyyy}-${mm}-${dd}`}else node.attributes.value=object[property]??"";environment.client&&("checkbox"===node.attributes.type||"radio"===node.attributes.type?node.attributes.onclick??=noop:"input"!==node.type&&"textarea"!==node.type?node.attributes.onchange??=noop:node.attributes.oninput??=noop)}let bindable={transform:bindable_transform,client:!0,server:!0};function serializeParam(value){return value?.toJSON?.()??value}function serializeSearch(params){let keys=Object.keys(params);return keys.map(key=>!1===params[key]||params[key]?`${key}=${params[key]}`:"").filter(segment=>!!segment).join("&")}function parameterizable_match(node){return node&&node.attributes&&(node.attributes.params||node.attributes.path)}function parameterizable_transform(param){let serializedParams,{node,router:router1,params}=param;if(!parameterizable_match(node))return;if(node.attributes.params)for(let key in serializedParams={},node.attributes.params)serializedParams[key]=serializeParam(node.attributes.params[key]);else serializedParams=params;let search=serializeSearch(serializedParams),path1=node.attributes.path||router1.path;node.attributes.href=path1+(search?"?":"")+search,delete node.attributes.path,delete node.attributes.params}let parameterizable={transform:parameterizable_transform,client:!0,server:!0};function extractLocation(originalUrl){let urlFragments=originalUrl.split("#"),hash=urlFragments[1],targetFragments=urlFragments[0].split("?"),path1=targetFragments[0],search=targetFragments[1];"/"!==path1&&path1.endsWith("/")&&(path1=path1.substring(0,path1.length-1));let url=path1;search&&(url+=`?${search}`);let urlWithHash=url;return hash&&(urlWithHash+=`#${hash}`),void 0===hash&&(hash=""),{path:path1,search,url,urlWithHash,hash}}function extractParamValue(value){return"true"===value||"false"!==value&&(value?decodeURIComponent(value.replace(/\+/g," ")):"")}function routeMatches(url,route){let{path:path1}=extractLocation(url),urlPaths=path1.split("/"),routePaths=route.split("/"),params={},length=Math.max(urlPaths.length,routePaths.length),catchall=!1;for(let i=0;i<length;i++)if(!catchall){if("*"===routePaths[i])catchall=!0;else if(routePaths[i]&&routePaths[i].startsWith(":")){let key=routePaths[i].replace(":","");params[key]=extractParamValue(urlPaths[i])}else if(routePaths[i]!==urlPaths[i])return!1}return params}function erase(node){node.type=!1,delete node.attributes,delete node.children}function routable_match(node){return node&&void 0!==node.attributes&&void 0!==node.attributes.route}function load(param){let{router:router1}=param;router1._routes={}}function routable_transform(param){let{node,depth,router:router1}=param;if(!routable_match(node))return;let routeDepth=depth.slice(0,depth.lastIndexOf("-"));if(void 0!==router1._routes[routeDepth])erase(node);else{let params=routeMatches(router1.url,node.attributes.route);params?(router1._routes[routeDepth]=!0,Object.assign(router1._segments,params)):erase(node)}}let routable={load,transform:routable_transform,client:!0,server:!0},plugins=[parameterizable,anchorable,routable,bindable];function transformNodes(scope,node,depth){for(let plugin of plugins)plugin.transform({...scope.context,node,depth})}function loadPlugins(scope){for(let plugin of plugins)plugin.load&&plugin.load(scope.context);return plugins}function useClientPlugins(plugin){plugin.client&&plugins.push(plugin)}function useServerPlugins(plugin){plugin.server&&plugins.push(plugin)}async function generateBranch(siblings,node,depth,scope){if(transformNodes(scope,node,depth),isUndefined(node)){let message="Attempting to render an undefined node. \n";throw void 0===node?message+="This error usually happens because of a missing return statement around JSX or returning undefined from a renderable function.":message+="This error usually happens because of a missing import statement or a typo on a component tag",Error(message)}if(isFalse(node)){siblings.push({type:!1,attributes:{}});return}if(isClass(node)){let memory;let key=generateKey(scope,node,depth),instance=scope.instances[key];instance||(instance=new node.type(scope)),instance.persistent=!!node.attributes.persistent,instance.key=key,instance._attributes=node.attributes,instance._scope=scope,scope.memory&&(memory=scope.memory[key])&&(instance.prerendered=!0,instance.initiated=!0,Object.assign(instance,memory),delete scope.memory[key]);let shouldHydrate=!1,shouldLaunch=instance.initiated&&(!instance.prerendered||instance.persistent&&instance.terminated);instance.terminated&&(shouldHydrate=!0,instance.terminated=!1);let shouldPrepare=void 0===scope.instances[key];scope.instances[key]=instance,shouldPrepare&&(void 0===memory&&(instance.prepare&&instance.prepare(),scope.context.environment.server?(instance.initiate&&await instance.initiate(),instance.initiated=!0,instance.launch&&instance.launch()):scope.initiationQueue.push(instance)),shouldHydrate=!0),scope.hydrationQueue&&(shouldHydrate?(shouldLaunch&&instance.launch&&instance.launch(),scope.hydrationQueue.push(instance)):!0===instance.initiated&&instance.update&&instance.update()),scope.context.environment.client&&scope.renewalQueue.push(instance);let children=instance.render();children&&children.type&&(children.instance=instance),node.children=[].concat(children);for(let i=0;i<node.children.length;i++)await generateBranch(siblings,node.children[i],`${depth}-${i}`,scope);return}if("body"===node.type||"html"===node.type||"window"===node.type){let tagName=node.type;for(let attribute in node.type=fragment,node.attributes)if(!("children"===attribute||attribute.startsWith("_"))){if(attribute.startsWith("on")){if(scope.context.environment.server)continue;if(scope.nextMeta[tagName][attribute]||(scope.nextMeta[tagName][attribute]=[]),Array.isArray(node.attributes[attribute]))for(let callback of node.attributes[attribute])"object"==typeof callback?scope.nextMeta[tagName][attribute].push(()=>Object.assign(node.attributes.source,callback)):scope.nextMeta[tagName][attribute].push(callback);else scope.nextMeta[tagName][attribute].push(node.attributes[attribute])}else"window"!==tagName&&("class"===attribute||"style"===attribute?(scope.nextMeta[tagName][attribute]||(scope.nextMeta[tagName][attribute]=[]),scope.nextMeta[tagName][attribute].push(node.attributes[attribute])):scope.nextMeta[tagName][attribute]=node.attributes[attribute])}}if(isFunction(node)){let context=node.type.name?scope.generateContext(node.attributes):node.attributes,children=node.type(context);node.children=[].concat(children);for(let i=0;i<node.children.length;i++)await generateBranch(siblings,node.children[i],`${depth}-${i}`,scope);return}if(node.type){if("head"===node.type){siblings.push({type:!1,attributes:{}});for(let i=0;i<node.children.length;i++){let id=`${depth}-${i}`;await generateBranch(scope.nextHead,node.children[i],id,scope),scope.nextHead[scope.nextHead.length-1].attributes.id??=id}}else if(node.children){let branch={type:node.type,attributes:node.attributes,children:[]};for(let i=0;i<node.children.length;i++)await generateBranch(branch.children,node.children[i],`${depth}-${i}`,scope);siblings.push(branch)}return}siblings.push({type:"text",text:node})}async function generateTree(node,scope){let tree={type:"div",attributes:{id:"application"},children:[]};return await generateBranch(tree.children,node,"0",scope),tree}let objectProxyHandler={set(target,name,value){return isProxyable(name,value)?target[name]=new Proxy(value,this):target[name]=value,name.startsWith("_")||client_client.update(),!0},get:(target,name,receiver)=>"_isProxy"===name||Reflect.get(target,name,receiver)};function isProxyable(name,value){if(name.startsWith("_"))return!1;let constructor=value?.constructor;return!!constructor&&!value._isProxy&&(constructor===Array||constructor===Object)}function generateObjectProxy(name,value){if(isProxyable(name,value)){if("object"==typeof value)for(let key of Object.keys(value))value[key]=generateObjectProxy(key,value[key]);return new Proxy(value,objectProxyHandler)}return value}let reISO=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/,reMsAjax=/^\/Date\((d|-|.*)\)[/|\\]$/;function dateParser(key,value){if("string"==typeof value){let a=reISO.exec(value);if(a)return new Date(value);if(a=reMsAjax.exec(value)){let b=a[1].split(/[-+,.]/);return new Date(b[0]?+b[0]:0-+b[1])}}return value}function deserialize(string){return JSON.parse(string,dateParser)}let state=deserialize(decodeURIComponent(document.querySelector("[name=nullstack]").content)),context={};for(let key of Object.keys(state.context))context[key]=generateObjectProxy(key,state.context[key]);let contextProxyHandler={set:(target,name,value)=>(context[name]=generateObjectProxy(name,value),client_client.update(),!0),get:(target,name)=>"_isProxy"===name||(void 0===target[name]?context[name]:target[name])};function generateContext(temporary){return new Proxy(temporary,contextProxyHandler)}let client_context=context;function sanitizeHtml(unsafe){return unsafe.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function sanitizeString(unsafe){return unsafe.replace(/<\//g,"<\\\\/")}function sanitizeInnerHtml(unsafe){return void 0===unsafe||"string"!=typeof unsafe?"":unsafe.replaceAll("<\\","<")}let generateTruthyString_seed=Object.freeze([]);function generateTruthyString(elements){return generateTruthyString_seed.concat(...elements).filter(Boolean).join(" ")}let environment={...state.environment,client:!0,server:!1,event:"nullstack.environment"};function windowEvent(name){clearTimeout(null),setTimeout(()=>{let event=new Event(`nullstack.${name}`);window.dispatchEvent(event)},0)}let page={...state.page,event:"nullstack.page"};delete state.page;let pageProxyHandler={set(target,name,value,receiver){let result=Reflect.set(target,name,value,receiver);return"title"===name?(document.title=value,document.querySelector('head > meta[property="og:title"]').setAttribute("content",value),windowEvent("page")):"description"===name?(document.querySelector('head > meta[name="description"]').setAttribute("content",value),document.querySelector('head > meta[property="og:description"]').setAttribute("content",value)):"locale"===name?(document.querySelector("html").setAttribute("lang",value),document.querySelector('head > meta[property="og:locale"]').setAttribute("content",value)):"image"===name?document.querySelector('head > meta[property="og:image"]').setAttribute("content",value):"canonical"===name&&(canonical=-1===path.indexOf("//")?router.base+value:value,document.querySelector('head > link[rel="canonical"]').setAttribute("href",canonical)),client_client.update(),result}},proxy=new Proxy(page,pageProxyHandler),client_page=proxy;function getQueryStringParams(url){let query=url.split("?")[1];return query?query.split("&").reduce((params,param)=>{let[key,value]=param.split("=");return params[key]=extractParamValue(value),params},{}):{}}let segments={};function resetSegments(){for(let key in segments)delete segments[key]}let paramsProxyHandler={set(target,name,value){let serializedValue=serializeParam(value);target[name]=serializedValue;let search=serializeSearch(target);return client_router.url=client_router.path+(search?"?":"")+search,!0},get:(target,name)=>!1!==target[name]&&!1!==segments[name]&&(target[name]||segments[name]||"")},params={...state.params};delete state.params;let params_proxy=new Proxy(params,paramsProxyHandler);function updateParams(query){resetSegments();let delta=getQueryStringParams(query);for(let key of Object.keys({...delta,...params}))params[key]=delta[key];return params_proxy}let worker={...state.worker};delete state.worker;let emptyQueue=Object.freeze([]),queuesProxyHandler={set:(target,name,value)=>(target[name]=value,client_client.update(),!0),get:(target,name)=>target[name]||emptyQueue};worker.queues=new Proxy({},queuesProxyHandler);let workerProxyHandler={set:(target,name,value)=>(target[name]!==value&&(target[name]=value,client_client.update()),!0)},worker_proxy=new Proxy(worker,workerProxyHandler);async function register(){if("serviceWorker"in navigator)try{worker_proxy.registration=await navigator.serviceWorker.register("/service-worker.js",{scope:"/"}),environment.development&&worker_proxy.registration.unregister()}catch(error){console.error(error)}}worker.enabled&&(window.addEventListener("beforeinstallprompt",function(event){event.preventDefault(),worker_proxy.installation=event}),register()),window.addEventListener("online",()=>{worker_proxy.online=!0,"ssg"===environment.mode?client_router._update(client_router.url):worker_proxy.responsive=!0}),window.addEventListener("offline",()=>{worker_proxy.online=!1});let client_worker=worker_proxy;function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}let redirectTimer=null;class Router{async _popState(){let{urlWithHash}=extractLocation(window.location.pathname+window.location.search);await this._update(urlWithHash,!1)}async _update(target,push){let{url,path:path1,hash,urlWithHash}=extractLocation(target);(url!==this._url||this._hash!==hash)&&(this.previous=this.url,clearTimeout(redirectTimer),redirectTimer=setTimeout(async()=>{if(client_page.status=200,"ssg"===environment.mode){client_worker.fetching=!0;let api="/index.json";try{let response=await fetch("/"===path1?api:path1+api),meta=await response.text(),payload=deserialize(meta);for(let key in client_client.memory=payload.instances,payload.page)client_page[key]=payload.page[key];client_worker.responsive=!0}catch(error){client_worker.responsive=!1}client_worker.fetching=!1}push&&history.pushState({},document.title,urlWithHash),this._url=url,this._hash=hash,this._changed=!0,updateParams(url),client_client.update(),windowEvent("router")},0))}async _redirect(target){if(/^(\w+:|\/\/)([^.]+.)/.test(target))return window.location.href=target;let absoluteUrl=new URL(target,document.baseURI);await this._update(absoluteUrl.pathname+absoluteUrl.search+absoluteUrl.hash,!0),window.scroll(0,0)}get url(){return this._url}set url(target){this._redirect(target)}get path(){return extractLocation(this._url).path}set path(target){this._redirect(target+window.location.search)}get base(){return this._base||(this._base=new URL(document.querySelector('[rel="canonical"]').href).origin),this._base}constructor(){_defineProperty(this,"event","nullstack.router"),_defineProperty(this,"previous",null),_defineProperty(this,"_changed",!1),_defineProperty(this,"_segments",segments);let{hash,url}=extractLocation(window.location.pathname+window.location.search);this._url=url,this._hash=hash}}let router_router=new Router,client_router=router_router;function anchorableElement(element){let links=element.querySelectorAll('a[href^="/"]:not([target])');for(let link of links)link.addEventListener("click",event=>{event.ctrlKey||event.shiftKey||event.altKey||event.metaKey||(event.preventDefault(),client_router.url=link.getAttribute("href"))})}function camelize(key){return key.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(m,chr)=>chr.toUpperCase())}function kebabize(key){return key.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}let eventCallbacks=new WeakMap,eventSubjects=new WeakMap,eventDebouncer=new WeakMap;function generateSubject(selector,attributes,name){if(Array.isArray(attributes[name])){for(let i=0;i<attributes[name].length;i++)if("object"==typeof attributes[name][i]){let changeset=attributes[name][i];attributes[name][i]=()=>Object.assign(attributes.source,changeset)}}else if("object"==typeof attributes[name]){let changeset=attributes[name];attributes[name]=()=>Object.assign(attributes.source,changeset)}eventSubjects.set(selector,attributes)}function debounce(selector,name,time,callback){if(time){let eventMap=eventDebouncer.get(selector)||{};clearTimeout(eventMap[name]),eventMap[name]=setTimeout(callback,time),eventDebouncer.set(selector,eventMap)}else callback()}function generateCallback(selector,name){let eventNames=eventCallbacks.get(selector);eventNames||(eventNames={},eventCallbacks.set(selector,eventNames));let callback=function eventCallback(event){let subject=eventSubjects.get(selector);subject&&(subject.href?event.ctrlKey||event.shiftKey||event.altKey||event.metaKey||(event.preventDefault(),client_router.url=subject.href):!0!==subject.default&&event.preventDefault(),debounce(selector,name,subject.debounce,()=>{let data={...subject.data};for(let attribute in subject)if(attribute.startsWith("data-")){let key=camelize(attribute.slice(5));data[key]=subject[attribute]}if(subject?.bind!==void 0){let valueName="checkbox"===subject.type||"radio"===subject.type?"checked":"value",object=subject.bind.object,property=subject.bind.property;if("checked"===valueName)object[property]=event.target[valueName];else if(!0===object[property]||!1===object[property])object[property]="true"===event.target[valueName];else if("number"==typeof object[property])object[property]=+event.target[valueName]||0;else if(object[property]instanceof Date){let[yyyy,mm,dd]=event.target[valueName].split("-");object[property].setFullYear(yyyy),object[property].setMonth(+mm-1),object[property].setDate(dd),object[property]=object[property]}else object[property]=event.target[valueName]}if(subject[name]!==noop){if(Array.isArray(subject[name]))for(let subcallback of subject[name])subcallback({...subject,event,data});else subject[name]({...subject,event,data})}}))};return eventNames[name]=callback,callback}let refMap=new WeakMap;function setup(attributes,element){let object=attributes.ref.object,property=attributes.ref.property;"function"==typeof object[property]?setTimeout(()=>{object[property]({...attributes,element})},0):object[property]=element;let map=refMap.get(attributes.ref.object)||{};map[attributes.ref.property]=!0,refMap.set(attributes.ref.object,map)}function ref(attributes,element){attributes?.ref&&setup(attributes,element)}function reref(attributes,element){let map=refMap.get(attributes.ref.object);map?.[attributes.ref.property]||setup(attributes,element)}function render(node,options){if(isFalse(node)||"head"===node.type)return node.element=document.createComment(""),node.element;if(isText(node))return node.element=document.createTextNode(node.text),node.element;let svg=options&&options.svg||"svg"===node.type;for(let name in svg?node.element=document.createElementNS("http://www.w3.org/2000/svg",node.type):node.element=document.createElement(node.type),ref(node.attributes,node.element),node.attributes)if("debounce"!==name){if("html"===name)node.element.innerHTML=sanitizeInnerHtml(node.attributes[name]),node.head||anchorableElement(node.element);else if(name.startsWith("on")){if(void 0!==node.attributes[name]){let eventName=name.substring(2),callback=generateCallback(node.element,name);node.element.addEventListener(eventName,callback),generateSubject(node.element,node.attributes,name)}}else{let nodeValue;nodeValue=("class"===name||"style"===name)&&Array.isArray(node.attributes[name])?generateTruthyString(node.attributes[name]):node.attributes[name];let type=typeof nodeValue;"object"!==type&&"function"!==type&&("value"!==name&&!0===nodeValue?node.element.setAttribute(name,""):("value"===name||!1!==nodeValue&&null!=nodeValue)&&node.element.setAttribute(name,nodeValue))}}if(!node.attributes.html){for(let i=0;i<node.children.length;i++){let child=render(node.children[i],{svg});node.element.appendChild(child)}"select"===node.type&&(node.element.value=node.attributes.value)}return node.element}function updateAttributes(selector,currentAttributes,nextAttributes){let attributeNames=Object.keys({...currentAttributes,...nextAttributes});for(let name of attributeNames)if("debounce"!==name){if("ref"===name&&nextAttributes?.ref?.property)reref(nextAttributes,selector);else if("html"===name)nextAttributes[name]!==currentAttributes[name]&&(selector.innerHTML=sanitizeInnerHtml(nextAttributes[name]),anchorableElement(selector));else if("checked"===name||"value"===name)nextAttributes[name]!==currentAttributes[name]&&nextAttributes[name]!==selector[name]&&(selector[name]=nextAttributes[name]);else if(name.startsWith("on")){let eventName=name.substring(2),eventNames=eventCallbacks.get(selector);if(eventNames){let callback=eventNames[name];callback&&!nextAttributes[name]?(selector.removeEventListener(eventName,callback),delete eventNames[name]):nextAttributes[name]&&(callback||selector.addEventListener(eventName,generateCallback(selector,name)),generateSubject(selector,nextAttributes,name),eventSubjects.set(selector,nextAttributes))}else selector.addEventListener(eventName,generateCallback(selector,name))}else{let currentValue,nextValue;currentValue=("class"===name||"style"===name)&&Array.isArray(currentAttributes[name])?generateTruthyString(currentAttributes[name]):currentAttributes[name],nextValue=("class"===name||"style"===name)&&Array.isArray(nextAttributes[name])?generateTruthyString(nextAttributes[name]):nextAttributes[name];let type=typeof nextValue;"object"!==type&&"function"!==type&&(void 0!==currentValue&&void 0===nextValue?selector.removeAttribute(name):currentValue!==nextValue&&("value"!==name&&!1===nextValue||null==nextValue?selector.removeAttribute(name):"value"!==name&&!0===nextValue?selector.setAttribute(name,""):selector.setAttribute(name,nextValue)))}}}function updateHeadChild(current,next){if(isUndefined(current)&&!isUndefined(next)){let nextSelector=render(next);client_client.head.append(nextSelector);return}if(!isUndefined(current)&&isUndefined(next)){current.element.remove();return}if(next.element=current.element,!(isFalse(current)&&isFalse(next))){if(current.type!==next.type){let nextSelector=render(next);current.element.replaceWith(nextSelector);return}updateAttributes(current.element,current.attributes,next.attributes)}}function updateHeadChildren(currentChildren,nextChildren){let limit=Math.max(currentChildren.length,nextChildren.length);for(let i=0;i<limit;i++)updateHeadChild(currentChildren[i],nextChildren[i])}function _rerender(current,next){let selector=current.element;if(next.element=current.element,!(isFalse(current)&&isFalse(next))){if(current.type!==next.type){let nextSelector=render(next);selector.replaceWith(nextSelector);return}if("textarea"===current.type){current.attributes.value=current.children[0].text,next.attributes.value=next.children[0].text,updateAttributes(selector,current.attributes,next.attributes);return}if(isText(current)&&isText(next)){current.text!==next.text&&(selector.textContent=next.text);return}if(!next.attributes.html){let limit=Math.max(current.children.length,next.children.length);if(next.children.length>current.children.length){for(let i=0;i<current.children.length;i++)_rerender(current.children[i],next.children[i]);for(let i=current.children.length;i<next.children.length;i++){let nextSelector=render(next.children[i]);selector.appendChild(nextSelector)}}else if(current.children.length>next.children.length){for(let i=0;i<next.children.length;i++)_rerender(current.children[i],next.children[i]);for(let i=current.children.length-1;i>=next.children.length;i--)selector.childNodes[i].remove()}else for(let i=limit-1;i>-1;i--)_rerender(current.children[i],next.children[i])}updateAttributes(selector,current.attributes,next.attributes)}}function rerender(){_rerender(client_client.virtualDom,client_client.nextVirtualDom),updateAttributes(client_client.body,client_client.currentMeta.body,client_client.nextMeta.body),updateAttributes(window,client_client.currentMeta.window,client_client.nextMeta.window),updateAttributes(client_client.body.parentElement,client_client.currentMeta.html,client_client.nextMeta.html),updateHeadChildren(client_client.currentHead,client_client.nextHead),client_client.virtualDom=client_client.nextVirtualDom,client_client.nextVirtualDom=null,client_client.currentMeta=client_client.nextMeta,client_client.nextMeta={body:{},html:{},window:{}},client_client.currentHead=client_client.nextHead,client_client.nextHead=[]}let client={};client.initialized=!1,client.initializer=null,client.instances={},client_context.instances=client.instances,client.initiationQueue=[],client.renewalQueue=[],client.hydrationQueue=[],client.realHydrationQueue=[],client.virtualDom={},client.selector=null,client.events={},client.generateContext=generateContext,client.renderQueue=null,client.currentMeta={body:{},html:{},window:{}},client.nextMeta={body:{},html:{},window:{}},client.currentHead=[],client.nextHead=[],client.head=document.head,client.body=document.body,client.update=function update(){client.initialized&&(clearInterval(client.renderQueue),client.renderQueue=setTimeout(async()=>{let scope=client;scope.context=client_context,scope.plugins=loadPlugins(scope),client.initialized=!1,client.renewalQueue=[];try{client.nextVirtualDom=await generateTree(client.initializer(),scope),rerender(),client.processLifecycleQueues()}catch(error){if(client.skipHotReplacement=!0,client_context.catch)client_context.catch(error);else throw error}},16))},client.processLifecycleQueues=async function processLifecycleQueues(){client.initialized||(client.initialized=!0);let shouldUpdate=!1,shouldScroll=client_router._hash;for(;client.initiationQueue.length;){let instance=client.initiationQueue.shift();if(instance.initiate&&await instance.initiate(),instance.initiated=!0,instance.launch&&instance.launch(),shouldUpdate=!0,instance._attributes.route&&shouldScroll){let element=document.getElementById(client_router._hash);element&&element.scrollIntoView({behavior:"smooth"}),shouldScroll=!1}}for(shouldUpdate&&client.update(),shouldUpdate=!1;client.realHydrationQueue.length;){shouldUpdate=!0;let instance=client.realHydrationQueue.shift();instance.hydrate&&await instance.hydrate(),instance.hydrated=!0}for(shouldUpdate&&client.update(),shouldUpdate=!1;client.hydrationQueue.length;){shouldUpdate=!0;let instance=client.hydrationQueue.shift();client.realHydrationQueue.push(instance)}for(let key in shouldUpdate&&client.update(),client.instances){let instance=client.instances[key];client.renewalQueue.includes(instance)||instance.terminated||(instance.terminate&&await instance.terminate(),instance.persistent?instance.terminated=!0:delete client.instances[key])}client_router._changed=!1};let client_client=client,pool=[];function hydrateBody(selector,node){for(let element of(node?.attributes?.html&&anchorableElement(selector),node.element=selector,ref(node.attributes,selector),selector.childNodes))("TEXTAREA"===element.tagName||"textarea"===element.tagName)&&0===element.childNodes.length?element.appendChild(document.createTextNode("")):8===element.COMMENT_NODE&&"#"===element.textContent&&pool.push(element.remove());if(!node.children)return;let limit=node.children.length;for(let i=limit-1;i>-1;i--){if("head"!==node.type&&void 0===selector?.childNodes?.[i])throw console.error(`${node.type.toUpperCase()} expected tag ${node.children[i].type.toUpperCase()} to be child at index ${i} but instead found undefined. This error usually happens because of an invalid HTML hierarchy or changes in comparisons after serialization.`,selector),Error("Virtual DOM does not match the DOM.");hydrateBody(selector.childNodes[i],node.children[i])}}function hydrateHead(){for(let node of client_client.nextHead)isFalse(node)?(node.element=pool.pop()||document.createComment(""),client_client.head.append(node.element)):node.element=document.getElementById(node.attributes.id);pool=null}function hydrate(selector,node){hydrateBody(selector,node),hydrateHead()}let instanceProxies=new WeakMap,instanceProxyHandler={get(target,name,receiver){if("_isProxy"===name)return!0;if(target.constructor[name]?.name==="_invoke")return target.constructor[name].bind(target.constructor);if("function"==typeof target[name]&&"constructor"!==name){let proxy=instanceProxies.get(target);if(name.startsWith("_"))return target[name].bind(proxy);let{[name]:named}={[name]:args=>{let result;let scopedContext=generateContext({...target._attributes,...args});try{result=target[name].call(proxy,scopedContext)}catch(error){if(client_context.catch)client_context.catch(error);else throw error;return null}return result instanceof Promise?new Promise((resolve,reject)=>{result.then(resolve).catch(error=>{client_context.catch?client_context.catch(error):reject(error)})}):result}};return named}return Reflect.get(target,name,receiver)},set:(target,name,value)=>(name.startsWith("_")?target[name]=value:(target[name]=generateObjectProxy(name,value),client_client.update()),!0)},project={...state.project};delete state.project,Object.freeze(project);let settings={...state.settings};function client_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}delete state.settings,Object.freeze(settings),client_context.page=client_page,client_context.router=client_router,client_context.settings=settings,client_context.worker=client_worker,client_context.params=params_proxy,client_context.project=project,client_context.environment=state.environment,client_client.memory=state.instances;let scope=client_client;scope.generateContext=generateContext,scope.context=client_context,client_client.plugins=loadPlugins(scope),environment.development&&(globalThis.$nullstack=client_context);class Nullstack{static start(Starter){return setTimeout(async()=>{if(window.addEventListener("popstate",()=>{client_router._popState()}),client_client.initializer)return client_client.initializer=()=>element_element(Starter),client_client.update(),this.context;if(client_client.routes={},updateParams(client_router.url),client_client.currentInstance=null,client_client.initializer=()=>element_element(Starter),client_client.selector=document.getElementById("application"),"spa"===environment.mode){scope.plugins=loadPlugins(scope),client_worker.online=navigator.onLine,"function"==typeof client_context.start&&await client_context.start(client_context),client_context.environment=environment,client_client.virtualDom=await generateTree(client_client.initializer(),scope);let body=render(client_client.virtualDom);client_client.selector.replaceWith(body),client_client.selector=body}else client_client.virtualDom=await generateTree(client_client.initializer(),scope),hydrate(client_client.selector,client_client.virtualDom),client_client.currentMeta=client_client.nextMeta,client_client.currentHead=client_client.nextHead,client_client.nextMeta={body:{},html:{},window:{}},client_client.nextHead=[],client_context.environment=environment,scope.plugins=loadPlugins(scope),client_worker.online=navigator.onLine,"function"==typeof client_context.start&&await client_context.start(client_context),client_client.nextVirtualDom=await generateTree(client_client.initializer(),scope),rerender();client_client.processLifecycleQueues(),delete state.context},0),this.context}render(){return!1}constructor(){client_defineProperty(this,"prerendered",!1),client_defineProperty(this,"initiated",!1),client_defineProperty(this,"hydrated",!1),client_defineProperty(this,"terminated",!1),client_defineProperty(this,"key",null);let proxy=new Proxy(this,instanceProxyHandler);return instanceProxies.set(this,proxy),proxy}}function invoke(name,hash){return async function _invoke(){let payload,params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};client_worker.fetching=!0,Object.isFrozen(client_worker.queues[name])?client_worker.queues[name]=[params]:client_worker.queues[name]=[...client_worker.queues[name],params];let url=`${client_worker.api}/nullstack/${hash===this.hash?hash:`${hash}-${this.hash}`}/${name}.json`,body=JSON.stringify(params||{}),options={headers:client_worker.headers,mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer"};/get[A-Z]([*]*)/.test(name)?(options.method="GET",url+=`?payload=${encodeURIComponent(body)}`):(options.body=body,/patch[A-Z]([*]*)/.test(name)?options.method="PATCH":/put[A-Z]([*]*)/.test(name)?options.method="PUT":/delete[A-Z]([*]*)/.test(name)?options.method="DELETE":options.method="POST");try{let response=await fetch(url,options);client_page.status=response.status;let text=await response.text();payload=deserialize(text).result,client_worker.responsive=!0}catch(e){client_worker.responsive=!1}return client_worker.queues[name]?.length===1?delete client_worker.queues[name]:client_worker.queues[name]=client_worker.queues[name].filter(task=>task!==params),client_worker.fetching=!!Object.keys(client_worker.queues).length,payload}}client_defineProperty(Nullstack,"use",useClientPlugins),client_defineProperty(Nullstack,"context",generateContext({}));let queue={},next=null;async function preload(){cancelIdleCallback(next);let entry=Object.entries(queue)[0];if(!entry)return;let loader=entry[1];loader&&(await loader.load(),next=requestIdleCallback(preload))}function lazy(hash,importer){let loader={load:async()=>{let mod=await importer();loader.component=mod.default,delete queue[hash],client_client.update()},component:null,__nullstack_lazy:!0};return queue[hash]=loader,loader}window.addEventListener("blur",()=>{preload()}),window.addEventListener("focus",()=>{cancelIdleCallback(next)});let $runtime={element:element_element,fragment:fragment,invoke:invoke,lazy:lazy};function Logo(param){let{light,height,monotone}=param,themeColor=light?"#fff":"#2d3748",accentColor=monotone?themeColor:"#d22365";return $runtime.element("svg",{xmlns:"http://www.w3.org/2000/svg",height:height,viewBox:"0 0 511.5039 113.7368"},$runtime.element("title",null," Nullstack "),$runtime.element("path",{d:"M13.2736,39.964H28.7009v9.8922a20.3919,20.3919,0,0,1,7.743-8.479,21.2792,21.2792,0,0,1,11.2172-3.0031q7.36,0,11.3349,4.1218t3.9745,11.6588a48.9655,48.9655,0,0,1-1.06,8.8913l-8.3025,42.8665H36.3556L44.187,65.7546a31.2306,31.2306,0,0,0,.5888-5.5939q0-7.6542-6.3593-7.6547a10.7348,10.7348,0,0,0-8.4791,4.3278q-3.5922,4.328-5.0639,12.0415l-7.1248,37.0372H.4961Z",transform:"translate(-0.4961)",fill:themeColor}),$runtime.element("path",{d:"M81.4691,107.62q-7.2426,0-11.2466-4.1807t-4.004-11.8943a46.3965,46.3965,0,0,1,1.001-8.6557L75.64,39.964H92.7746L85.0609,80.24a29.8175,29.8175,0,0,0-.5888,5.5938q0,7.6551,6.4771,7.6548A10.3547,10.3547,0,0,0,99.2811,89.19q3.4446-4.2978,4.9756-12.0709L111.44,39.964h17.1348l-12.7775,65.9485H100.37V96.138a18.7565,18.7565,0,0,1-7.4781,8.3908A21.4849,21.4849,0,0,1,81.4691,107.62Z",transform:"translate(-0.4961)",fill:themeColor}),$runtime.element("path",{d:"M150.2958,113.7368q-11.4821,0-16.7815-3.3563t-5.2995-10.5989a43.049,43.049,0,0,1,1.1188-8.3613l11.9532-56.6451H123.2687l2.532-13.2486h35.2118L146.2918,92.4213q-.1767.825-.3238,1.7371a10.5763,10.5763,0,0,0-.1473,1.6781q0,4.6521,8.2436,4.6517h16.3694l-2.65,13.2486Z",transform:"translate(-0.4961)",fill:accentColor}),$runtime.element("path",{d:"M181.897,92.21q-11.4822,0-16.7816-3.3563T159.816,78.255a43.0455,43.0455,0,0,1,1.1187-8.3613l11.9532-56.6451H154.87L157.4018,0h35.2118L177.8929,70.8947q-.1765.8248-.3238,1.737a10.5766,10.5766,0,0,0-.1472,1.6782q0,4.6519,8.2435,4.6517h16.3694l-2.65,13.2486Z",transform:"translate(-0.4961)",fill:accentColor}),$runtime.element("path",{d:"M228.3106,107.62a72.47,72.47,0,0,1-23.6119-4.1218l3.003-15.0739q10.5988,6.7717,21.6688,6.7715,6.4176,0,10.0983-2.2965a7.1387,7.1387,0,0,0,3.68-6.3593,4.4873,4.4873,0,0,0-1.8253-3.8273q-2.3556-1.884-9.5979-3.9452l-5.1817-1.4132q-13.8969-3.8271-13.8963-16.9582a18.9819,18.9819,0,0,1,8.0375-16.0455q8.0374-5.976,22.4637-5.9766a60.6829,60.6829,0,0,1,10.1573.8538,63.0434,63.0434,0,0,1,10.5105,2.797L260.8727,56.981a33.7,33.7,0,0,0-19.3724-6.3q-5.9478,0-9.3623,2.09a6.2659,6.2659,0,0,0-3.4152,5.5056,5.102,5.102,0,0,0,2.2375,4.2984q2.4731,1.7082,9.6568,3.7685l4.3573,1.2365q7.4775,2.12,10.9816,6.271t3.5035,10.805q0,10.7172-8.2436,16.84T228.3106,107.62Z",transform:"translate(-0.4961)",fill:themeColor}),$runtime.element("path",{d:"M297.9546,106.2069q-11.3055,0-16.6932-3.3857t-5.3878-10.57a47.7847,47.7847,0,0,1,1.06-8.3613l5.9472-30.6778H265.9813l2.532-13.2486h16.8993l3.5918-18.7247h17.2527L302.6063,39.964h22.5521l-2.532,13.2486h-22.552l-6.1827,31.6788A20.2915,20.2915,0,0,0,293.48,88.13a3.9534,3.9534,0,0,0,1.9431,3.68q1.9433,1.1482,6.2416,1.1482h13.2486l-2.532,13.2486Z",transform:"translate(-0.4961)",fill:themeColor}),$runtime.element("path",{d:"M338.2138,107.62q-9.4224,0-14.6029-5.1228-5.1828-5.1228-5.1816-14.25,0-12.2469,9.3034-18.99t26.2617-6.7421h11.3643l.4711-2.8852a3.6427,3.6427,0,0,1,.1177-.7066v-1.001A5.6271,5.6271,0,0,0,362.974,52.8q-2.9748-1.7666-8.5086-1.7665a41.5275,41.5275,0,0,0-10.8933,1.59,85.9338,85.9338,0,0,0-13.3074,5.0639l2.7675-14.7206a74.3941,74.3941,0,0,1,24.6129-4.5929q12.07,0,18.6363,4.6518,6.5643,4.652,6.5655,13.72a36.323,36.323,0,0,1-.4711,5.5939q-.4716,3.003-1.1188,5.9471l-7.2425,37.626H358.47v-7.36A26.3115,26.3115,0,0,1,338.2138,107.62Zm7.1837-11.8354q6.476,0,11.2466-5.6822t6.3-15.3978h-6.6537q-19.9029,0-19.9023,12.13a8.3352,8.3352,0,0,0,9.009,8.95Z",transform:"translate(-0.4961)",fill:themeColor}),$runtime.element("path",{d:"M415.1828,107.62q-13.72,0-21.1683-7.4192t-7.4486-21.4333a42.63,42.63,0,0,1,5.005-20.8444,36.7663,36.7663,0,0,1,13.9257-14.338,40.3978,40.3978,0,0,1,20.7562-5.2111A39.0215,39.0215,0,0,1,445.8607,43.32l-3.1208,15.78a22.7112,22.7112,0,0,0-16.075-6.7126,21.2393,21.2393,0,0,0-11.8059,3.2974A22.52,22.52,0,0,0,406.88,64.783a29.416,29.416,0,0,0-2.8853,13.278q0,8.0083,3.4741,11.7765T417.95,93.606q8.8324,0,19.3724-6.1238l-3.2974,16.2516A45.998,45.998,0,0,1,415.1828,107.62Z",transform:"translate(-0.4961)",fill:themeColor}),$runtime.element("path",{d:"M458.1224,14.2911H475.375l-8.95,46.0463L490.2134,39.964H512L482.2643,64.5769l18.43,41.3356H482.382L469.31,75.058l-6.83,5.6527-4.8284,25.2018H440.3987Z",transform:"translate(-0.4961)",fill:themeColor}))}$runtime.restart=function restart(target,path1){target.hot.accept(),target.hot.accept(path1,()=>{window.location.reload()})};class Counter extends Nullstack{async initiate(){this.count=await this.getCount()}increment(){this.count++,this.setCount({count:this.count})}render(){return $runtime.element("button",{onclick:this.increment,source:this},"this.count = ",this.count)}constructor(...args){super(...args),this.count=0}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}Counter.hash="28b06fbae9fade4",Counter.getCount=$runtime.invoke("getCount",Counter.hash),Counter.setCount=$runtime.invoke("setCount",Counter.hash);class Image extends Nullstack{render(param){let{project,children,environment,instances,page,params,router:router1,settings,...props}=param;return $runtime.element("img",_extends({},props,{src:`${project.cdn?.endsWith("/")?project.cdn.slice(0,-1):project.cdn||""}/${props.src.startsWith("/")?props.src.slice(1):props.src}`}))}}Image.hash="4f28408e4fc2b5b";class Home extends Nullstack{prepare(param){let{settings,page,greeting,project}=param;page.title=`Count: ${settings.count} - ${greeting}`,page.description=`${settings.count} contagens foram feitas com Nullstack`}renderLink(param){let{children,href}=param,link=`${href}?ref=create-nullstack-app`;return $runtime.element("a",{href:link,target:"_blank",rel:"noopener noreferrer"},children)}render(param){let{project,greeting}=param,Link=this.renderLink;return $runtime.element("section",null,$runtime.element("article",null,$runtime.element("a",{href:"/another-route"},"Go to another route"),$runtime.element(Link,{href:"https://nullstack.app/pt-br"},$runtime.element(Logo,{height:60,light:!0})),$runtime.element("h1",null," ",project.name," "),$runtime.element("p",null," ",greeting," "),$runtime.element("p",null,"Fizemos alguns exemplos para te ajudar a come\xe7ar! D\xea uma olhada na",$runtime.element(Link,{href:"vscode://file/C:/Users/luizfelipe/Documents/repos/nullstack-test/web/src"},"pasta src"),"."),$runtime.element("ul",null,$runtime.element("li",null,$runtime.element(Link,{href:"https://nullstack.app/pt-br/componentes-renderizaveis"},"\uD83C\uDF89 Crie seu primeiro componente"," ")),$runtime.element("li",null,$runtime.element(Link,{href:"https://nullstack.app/pt-br/rotas-e-parametros"},"✨ Configure sua primeira rota")),$runtime.element("li",null,$runtime.element(Link,{href:"https://nullstack.app/pt-br/contexto"},"⚡ Defina seu context")),$runtime.element("li",null,$runtime.element(Link,{href:"https://github.com/nullstack/nullstack/stargazers"},"⭐ D\xea uma estrela no github")),$runtime.element("li",null,$runtime.element(Link,{href:"https://youtube.com/nullstack"},"\uD83C\uDFAC Se inscreva no nosso Canal do Youtube"))),$runtime.element("span",null,"Dica: n\xf3s temos uma",$runtime.element(Link,{href:"vscode:extension/ChristianMortaro.vscode-nullstack"},"Extens\xe3o para VS Code")),$runtime.element(Counter,null)),$runtime.element("aside",null,$runtime.element(Link,{href:"https://nullstack.app/pt-br/waifu"},$runtime.element(Image,{src:"/nulla-chan.webp",alt:"Nulla-Chan: waifu oficial do Nullstack"}))))}}Home.hash="15b31cbd1e4a3ee";class AnotherRoute extends Nullstack{prepare(param){let{project,page}=param;page.title="Another route",page.description=`${project.name} foi feito com Nullstack in another route!`}render(){return $runtime.element("section",null,$runtime.element("h1",null,"Hi from another route!"),$runtime.element(Counter,null),$runtime.element("a",{href:"/"},"Go home"))}}AnotherRoute.hash="6df714d2c65fc10c";class Application extends Nullstack{prepare(param){let{page}=param;page.locale="pt-BR"}renderHead(){return $runtime.element("head",null,$runtime.element("link",{href:"https://fonts.gstatic.com",rel:"preconnect"}),$runtime.element("link",{href:"https://fonts.googleapis.com/css2?family=Crete+Round&family=Roboto&display=swap",rel:"stylesheet"}))}render(){let Head=this.renderHead;return $runtime.element("main",null,$runtime.element(Head,null),$runtime.element(Home,{route:"/",greeting:"Nulla-chan te d\xe1 as boas vindas!"}),$runtime.element(AnotherRoute,{route:"/another-route"}))}}Application.hash="5b2fd53922c75216";let client_context_0=Nullstack.start(Application);client_context_0.start=async function start(){};let client_0=client_context_0;return __webpack_exports__})());